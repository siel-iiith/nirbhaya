<html>
<head>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>

<script type="text/javascript"> 
$(document).ready(function(){
    var query;
    $("button").click(function(){
          query=$("#query").val();
   	  var geocoder = new google.maps.Geocoder();
//	alert(query);
     	 if (geocoder) {
         geocoder.geocode({ 'address': query }, function (results, status) {
            if (status == google.maps.GeocoderStatus.OK) {
              //alert(results[0].geometry.location.lat());
		//var data = results[0].geometry.location;
		//data = data.split('(').join('');
		//alert(data);
		$(location).attr('href',"map6.html?lat="+results[0].geometry.location.lat()+"&lon="+results[0].geometry.location.lng());
            } 
            else {
             alert('No results found: ' + status);
            }
         });
      }
});
});
   </script> 


<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<link href="http://code.google.com/apis/maps/documentation/javascript/examples/default.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
google.load("visualization", "1", {packages:["map"]});
google.setOnLoadCallback(drawMap);

function drawMap() {
	var data = google.visualization.arrayToDataTable([
			['Lat', 'Lon', 'Name'],
			[19.37, 78.30, 'Adilabad Electricty Problems 15%'],
			[16.50, 80.15, 'Amaravati Electricity Problems 20%'],
			[14.41, 77.39, 'Anantapur Electricity Problems 40%'],
			[15.34, 79.09, 'Cumbum Electricity Problems 30%'],
			[20.37, 79.30, 'Adilabad Electricty Problems 15%'],
			[19.50, 84.15, 'Amaravati Electricity Problems 20%'],
			[21.41, 74.39, 'Anantapur Electricity Problems 40%'],
			[13.34, 78.09, 'Cumbum Electricity Problems 30%'],
			[24.37, 78.30, 'Water Problems 15%'],
			[26.50, 80.15, 'Water Problems 20%'],
			[24.41, 77.39, 'Water Problems 40%'],
			[25.34, 79.09, 'Water Problems 30%'],
			[20.37, 78.30, 'Water Problems 15%'],
			[25.50, 80.15, 'Water Problems 20%'],
			[26.41, 74.39, 'Water Problems 40%'],
			[23.34, 75.09, 'Water Problems 30%'],
			[24.37, 71.30, 'Sewage Problems 15%'],
			[26.50, 82.15, 'Sewage Problems 20%'],
			[24.41, 75.39, 'Sewage Problems 40%'],
			[25.34, 78.09, 'Sewage Problems 30%'],
			[22.37, 78.30, 'Sewage Problems 15%'],
			[24.50, 80.15, 'Sewage Problems 20%'],
			[24.41, 74.39, 'Sewage Problems 40%'],
			[23.34, 75.09, 'Sewage Problems 30%'],
			[21.37, 71.30, 'Other Problems 15%'],
			[16.50, 82.15, 'Other Problems 20%'],
			[29.41, 75.39, 'Other Problems 40%'],
			[27.34, 78.09, 'Other Problems 30%'],
			[21.37, 78.30, 'Other Problems 15%'],
			[21.50, 80.15, 'Other Problems 20%'],
			[20.41, 74.39, 'Other Problems 40%'],
			[21.34, 75.09, 'Other Problems 30%']
			]);

	var map = new google.visualization.Map(document.getElementById('map_div'));
	map.draw(data, {showTip: true});
	//var yourLocation = new google.maps.LatLng(17.385044, 78.4866);
	//map.setCenter(yourLocation);
	
}
</script>

<script language="javascript" type="text/javascript" >
function jumpto(x){

if (document.form2.jumpmenu.value != "null") {
	document.location.href = x
	}
}
</script>


</head>

<body>
<form name="form2">
<select name="jumpmenu" onChange="jumpto(document.form2.jumpmenu.options[document.form2.jumpmenu.options.selectedIndex].value)">
<option>Jump to...</option>
<option value=map5.html>All Problems</option>
<option value=map1.html>Electricity Problems</option>
<option value=map2.html>Water Problems</option>
<option value=map3.html>Sewage Problems</option>
<option value=map4.html>Other Problems</option>
</select>
</form>
<div id="map_div" style="width: 1000px; height: 750px"></div>
<input type="text" id="query" /><button>Region Search</button>
<div id="results"></div>

</body>
</html>
